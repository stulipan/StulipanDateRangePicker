<!DOCTYPE html>
<html dir="ltr" lang="en-US">
   <head>
      <meta charset="UTF-8" />
      <title>A date range picker for Bootstrap</title>

     <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">
     <link rel="stylesheet" href="http://www.stulipan.dfr/build/admin-theme.css" />

      <script type="text/javascript" src="moment.min.js"></script>
     <script type="text/javascript" src="daterangepicker.js" defer></script>
<!--     <script type="text/javascript" src="daterangepicker-asGlobalObject.js" defer></script>-->

   </head>
   <body>
      <div class="container">

        <div class="row mb-3">
          <div class="col-xl-12">
            <h1>Configuration Builder</h1>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-xl-6">
            <div class="row configurator">
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="parentEl">parentEl</label>
                  <input type="text" class="form-control" id="parentEl" value=".demo-wrapper" placeholder="body">
                </div>

                <div class="form-group">
                  <label for="startDate">startDate</label>
                  <input type="text" class="form-control" id="startDate" value="2023/08/01">
                </div>

                <div class="form-group">
                  <label for="endDate">endDate</label>
                  <input type="text" class="form-control" id="endDate" value="2023/08/31">
                </div>

                <div class="form-group">
                  <label for="minDate">minDate</label>
                  <input type="text" class="form-control" id="minDate" value="" placeholder="YYYY/MM/DD">
                </div>

                <div class="form-group">
                  <label for="maxDate">maxDate</label>
                  <input type="text" class="form-control" id="maxDate" value="" placeholder="YYYY/MM/DD">
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="autoApply"> autoApply
                  </label>
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="linkedCalendars" checked="checked"> linkedCalendars
                  </label>
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="autoUpdateInput" checked="checked"> autoUpdateInput
                  </label>
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="ranges" checked="checked"> ranges (with example predefined ranges)
                  </label>
                </div>
                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="rangesAsDropdown"> showRangesAsDropdown (***by Stulipan)
                  </label>
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="showCustomRangeLabel" checked="checked"> showCustomRangeLabel
                  </label>
                </div>


              </div>
              <div class="col-lg-6">
                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="singleDatePicker" checkedX="checked"> singleDatePicker
                  </label>
                </div>
                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="showDropdowns"> showDropdowns
                  </label>
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="showWeekNumbers"> showWeekNumbers
                  </label>
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="showISOWeekNumbers" checkedX="checked"> showISOWeekNumbers
                  </label>
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="timePicker" checkedX="checked"> timePicker
                  </label>
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="timePicker24Hour"> timePicker24Hour
                  </label>
                </div>

                <div class="form-group">
                  <label for="timePickerIncrement">timePickerIncrement (in minutes)</label>
                  <input type="text" class="form-control" id="timePickerIncrement" value="1">
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="timePickerSeconds"> timePickerSeconds
                  </label>
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="dateLimit"> dateLimit (with example date range span)
                  </label>
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="locale"> locale (with example settings)
                  </label>
                  <label id="rtl-wrap">
                    <input type="checkbox" id="rtl"> RTL (right-to-left)
                  </label>
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="alwaysShowCalendars"> alwaysShowCalendars
                  </label>
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="displayInline" checkedX="checked"> displayInline (***by Stulipan)
                  </label>
                  <div class="text-muted">Use '.demo-wrapper' as parentEl</div>
                </div>

                <div class="checkbox form-group">
                  <label>
                    <input type="checkbox" id="displayInlineAlwaysOn" checkedX="checked"> displayInlineAlwaysOn (***by Stulipan)
                  </label>
                  <div class="text-muted">Use with <em>autoApply</em> and <em>autoUpdateInput</em></div>
                </div>


                <div class="form-group">
                  <label for="opens">opens</label>
                  <select id="opens" class="form-control">
                    <option value="right" selected>right</option>
                    <option value="left">left</option>
                    <option value="center">center</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="drops">drops</label>
                  <select id="drops" class="form-control">
                    <option value="down" selected>down</option>
                    <option value="up">up</option>
                    <option value="up">auto</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="buttonClasses">buttonClasses</label>
                  <input type="text" class="form-control" id="buttonClasses" value="btn">
                </div>

                <div class="form-group">
                  <label for="applyClass">applyClass</label>
                  <input type="text" class="form-control" id="applyClass" value="btn-success">
                </div>

                <div class="form-group">
                  <label for="cancelClass">cancelClass</label>
                  <input type="text" class="form-control" id="cancelClass" value="btn-secondary">
                </div>

              </div>
            </div>
          </div>
          <div class="col-xl-6">
            <div class="demo mb-5">
              <div class="demo-wrapper position-relative JS--dateRangePicker">
                <h4>Your Date Range Picker</h4>
                <input type="text" id="config-demo" class="form-control">
              </div>
            </div>

            <div>
              <h4>Configuration</h4>
              <div class="well">
                <textarea id="config-text" style="height: 300px; width: 100%; padding: 10px" class="form-control"></textarea>
              </div>
            </div>
          </div>
        </div>


<!--        <div class="well configurator">-->

<!--          <form class="border-bottom">-->
<!--          <div class="row mb-4">-->

<!--            <div class="col-md-4">-->



<!--            </div>-->
<!--            <div class="col-md-4">-->



<!--            </div>-->
<!--            <div class="col-md-4">-->



<!--            </div>-->

<!--          </div>-->
<!--          </form>-->

<!--        </div>-->

<!--        <div class="row mt-4">-->

<!--          <div class="col-sm-6 col-md-offset-2 demo">-->
<!--            <div class="demo-wrapper position-relative JS&#45;&#45;dateRangePicker">-->
<!--              <h4>Your Date Range Picker</h4>-->
<!--              <input type="text" id="config-demo" class="form-control">-->
<!--            </div>-->
<!--          </div>-->

<!--          <div class="col-sm-6">-->
<!--            <h4>Configuration</h4>-->

<!--            <div class="well">-->
<!--              <textarea id="config-text" style="height: 300px; width: 100%; padding: 10px"></textarea>-->
<!--            </div>-->
<!--          </div>-->

<!--        </div>-->

      </div>

      <script>
        document.addEventListener("DOMContentLoaded", function(){
          var element = '#config-demo';
          var customConfig = {
            singleDatePicker: false,
            // displayInline: true,
            // displayInlineAlwaysOn: true,
            opens: 'right',
            drops: 'down',
            autoApply: false,
            autoUpdateInput: true,
            alwaysShowCalendars: true,
            showCustomRangeLabel: true,
            // showRangesAsDropdown: true,
            maxDate: moment(),
            locale: {
              format: "YYYY/MM/DD",
              separator: ' - ',
              cancelLabel: 'Mégse',
              applyLabel: 'Mehet',
              daysOfWeek: ['V', 'H', 'K', 'Sz', 'Cs', 'P', 'Sz'],
              monthNames: ['Január', 'Február', 'Március', 'Április', 'Május', 'Június', 'Július', 'Augusztus', 'Szeptember', 'Október', 'November', 'December'],
              firstDay: 1,
              dropdownRangeLabel: 'Időintervallumok',
              customRangeLabel: 'Egyedi időszak',
            },
            buttonClasses: 'btn',
            cancelClass: 'btn-secondary',

            ranges: {
              'Ma': [moment(), moment()],
              'Tegnap': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
              "Aktuális hónap": [moment().startOf('month'), moment().endOf('month')],
              "Előző hónap": [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],
              "Utolsó 7 nap": [moment().subtract(6, 'days'), moment()],
              "Utolsó 30 nap": [moment().subtract(29, 'days'), moment()],
              "Aktuális év": [moment().startOf('year'), moment().endOf('year')],
              "Előző év": [moment().subtract(1, 'year').startOf('year'), moment().subtract(1, 'year').endOf('year')],
              "Élettartam": [moment('1990-01-01'), moment()],
            },
          };


          // stulipan.daterangepicker('#config-demo', customConfig);  // stulipan is the global object

          var callback = function(startDate, endDate) { /* your callback function here */ };
          var dateInput = document.querySelectorAll('#config-demo');
          dateInput.daterangepicker(customConfig, callback);

          var datePicker;
          var ii = 0;

          function updateConfig() {
            var options = {};

            var singleDatePicker = document.querySelector('#singleDatePicker');
            if (singleDatePicker.checked) options.singleDatePicker = true;

            var showDropdowns = document.querySelector('#showDropdowns');
            if (showDropdowns.checked) options.showDropdowns = true;

            var showWeekNumbers = document.querySelector('#showWeekNumbers');
            if (showWeekNumbers.checked) options.showWeekNumbers = true;

            var showISOWeekNumbers = document.querySelector('#showISOWeekNumbers');
            if (showISOWeekNumbers.checked) options.showISOWeekNumbers = true;

            var timePicker = document.querySelector('#timePicker');
            if (timePicker.checked) options.timePicker = true;

            var timePicker24Hour = document.querySelector('#timePicker24Hour');
            if (timePicker24Hour.checked) options.timePicker24Hour = true;

            var timePickerIncrement = document.querySelector('#timePickerIncrement');
            if (timePickerIncrement.value.length && timePickerIncrement.value != 1) {
              options.timePickerIncrement = parseInt(timePickerIncrement.value, 10);
            }

            var timePickerSeconds = document.querySelector('#timePickerSeconds');
            if (timePickerSeconds.checked) options.timePickerSeconds = true;

            var autoApply = document.querySelector('#autoApply');
            if (autoApply.checked) options.autoApply = true;

            var dateLimit = document.querySelector('#dateLimit');
            if (dateLimit.checked) options.dateLimit = { days: 7 };

            var ranges = document.querySelector('#ranges');
            if (ranges.checked) {
              options.ranges = customConfig.ranges;
            }

            var rangesAsDropdown = document.querySelector('#rangesAsDropdown');
            if (rangesAsDropdown.checked) options.showRangesAsDropdown = true;

            var displayInline = document.querySelector('#displayInline');
            if (displayInline.checked) {
              options.displayInline = true;
            } else {
              options.displayInline = false;
            }

            var displayInlineAlwaysOn = document.querySelector('#displayInlineAlwaysOn');
            if (displayInlineAlwaysOn.checked) {
              options.displayInlineAlwaysOn = true;
            } else {
              options.displayInlineAlwaysOn = false;
            }

            options.locale = customConfig.locale;
            var locale = document.querySelector('#locale');
            if (locale.checked) {
              document.querySelector('#rtl-wrap').style.display = 'block';
            } else {
              document.querySelector('#rtl-wrap').style.display = 'none';
            }

            var linkedCalendars = document.querySelector('#linkedCalendars');
            if (!linkedCalendars.checked) options.linkedCalendars = false;

            var autoUpdateInput = document.querySelector('#autoUpdateInput');
            if (!autoUpdateInput.checked) options.autoUpdateInput = false;

            var showCustomRangeLabel = document.querySelector('#showCustomRangeLabel');
            if (showCustomRangeLabel.checked) {
              options.showCustomRangeLabel = true;
            } else {
              options.showCustomRangeLabel = false;
            }

            var alwaysShowCalendars = document.querySelector('#alwaysShowCalendars');
            if (alwaysShowCalendars.checked) options.alwaysShowCalendars = true;

            var parentEl = document.querySelector('#parentEl');
            if (parentEl.value.length) options.parentEl = parentEl.value;

            var startDate = document.querySelector('#startDate');
            if (startDate.value.length) options.startDate = startDate.value;

            var endDate = document.querySelector('#endDate');
            if (endDate.value.length) options.endDate = endDate.value;

            var minDate = document.querySelector('#minDate');
            if (minDate.value.length) options.minDate = minDate.value;

            var maxDate = document.querySelector('#maxDate');
            maxDate.value = moment().format(customConfig.locale.format);
            if (maxDate.value.length) options.maxDate = maxDate.value;

            var opens = document.querySelector('#opens');
            if (opens.value.length && opens.value != 'right') options.opens = opens.value;

            var drops = document.querySelector('#drops');
            if (drops.value.length && drops.value != 'down') options.drops = drops.value;

            var buttonClasses = document.querySelector('#buttonClasses');
            if (buttonClasses.value.length && buttonClasses.value != 'btn btn-smM') options.buttonClasses = buttonClasses.value;

            var applyClass = document.querySelector('#applyClass');
            if (applyClass.value.length && applyClass.value != 'btn-success') options.applyClass = applyClass.value;

            var cancelClass = document.querySelector('#cancelClass');
            if (cancelClass.value.length && cancelClass.value != 'btn-secondary') options.cancelClass = cancelClass.value;

            document.querySelector('#config-text').value = "document.querySelector('#demo').daterangepicker(" + JSON.stringify(options, null, '    ') + ", function(start, end, label) {\n  console.log(\"New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')\");\n});";

            // document.querySelector('#config-demo').daterangepicker(options, function(start, end, label) {
            //   // console.log('New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')');
            // }).click();

            // dateInput.daterangepicker(options, function(start, end, label) {
            //   // console.log('New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')');
            // });

            // console.log(datePicker);
            // console.log((typeof datePicker == 'undefined' || !datePicker));
            // if (typeof datePicker == 'undefined' || !datePicker) {
            //   datePicker = new DateRangePicker(element, options, function(start, end, label) {
            //     console.log("A new date selection was made: " + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD'));
            //   });
            //   ii++; console.log('new: '+ii);
            // } else {
            //   console.log('set options');
            //   // datePicker.setOptions(element, options);
            //   datePicker.hide();
            //   datePicker.remove();
            //   datePicker.init(element, options);
            //   ii++; console.log(ii);
            //   document.querySelector(element).click();  // document.querySelector(element).dispatchEvent(new Event('click'));
            // }


          }

          document.querySelector('#config-text').addEventListener('keyup', function() {
            console.log('eval');
            eval(this.value);
          });

          var configuratorInputs = document.querySelectorAll('.configurator input, .configurator select');
          configuratorInputs.forEach(function(input) {
            input.addEventListener('change', updateConfig);
          });

          var demoIcons = document.querySelectorAll('.demo i');
          demoIcons.forEach(function(icon) {
            icon.addEventListener('click', function() {
              icon.parentElement.querySelector('input').click();
            });
          });

          updateConfig();

        });
      </script>

   </body>
</html>
